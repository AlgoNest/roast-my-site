  <h2>Performance Overview</h2>
  <div class="charts">
    <canvas id="scoreChart"></canvas>
  </div>

  <h2>Conversion Factors Breakdown</h2>
  <div class="charts">
    <canvas id="factorChart"></canvas>
  </div>

  <h2>Main Problems</h2>
  <ul>
    {% for item in roast.main_problems %}
      <li>{{ item }}</li>
    {% endfor %}
  </ul>

  <h2>Why People Won't Convert</h2>
  <ul>
    {% for item in roast.why_people_wont_convert %}
      <li>{{ item }}</li>
    {% endfor %}
  </ul>

  <h2>Headline Fixes</h2>
  <ul>
    {% for item in roast.headline_fixes %}
      <li>{{ item }}</li>
    {% endfor %}
  </ul>

  <h2>Improved CTA</h2>
  <p class="cta">{{ roast.cta_fix }}</p>

  <h2>Quick Wins</h2>
  <ul>
    {% for item in roast.quick_wins %}
      <li>{{ item }}</li>
    {% endfor %}
  </ul>

  <div class="site-urls">
    <h2>All URLs on the Website</h2>
    <ul>
      {% for u in roast.all_urls %}
        <li>{{ u }}</li>
      {% endfor %}
    </ul>
  </div>

</main>

<!-- ACTION BUTTONS -->
<div class="actions">
  <button class="pdf-btn" onclick="downloadPDF()">Download PDF</button>
  <a href="/" class="back-link">Roast Another Website</a>
</div>

<!-- CHARTS -->
<script>
  const currentScore = {{ roast.overall_score }};
  const expectedScore = 9;

  new Chart(document.getElementById('scoreChart'), {
    type: 'bar',
    data: {
      labels: ['Current', 'Expected'],
      datasets: [{
        data: [currentScore, expectedScore],
        backgroundColor: ['#EF4444', '#10B981'],
        borderRadius: 8
      }]
    },
    options: {
      scales: {
        y: { beginAtZero:true, max:10 }
      }
    }
  });

  new Chart(document.getElementById('factorChart'), {
    type: 'radar',
    data: {
      labels: ['Clarity','Trust','UX','Copy','CTA'],
      datasets: [
        {
          label:'Current',
          data:[4,3,5,4,3],
          backgroundColor:'rgba(239,68,68,0.2)',
          borderColor:'#EF4444'
        },
        {
          label:'Expected',
          data:[8,8,9,8,9],
          backgroundColor:'rgba(16,185,129,0.2)',
          borderColor:'#10B981'
        }
      ]
    },
    options: {
      scales: {
        r:{ min:0, max:10 }
      }
    }
  });
</script>

<!-- PDF EXPORT -->
<script>
  function downloadPDF() {
    const element = document.getElementById('report');

    const opt = {
      margin:       0.5,
      filename:     'Website-Report.pdf',
      image:        { type: 'jpeg', quality: 0.98 },
      html2canvas:  { scale: 2 },
      jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
    };

    html2pdf().set(opt).from(element).save();
  }
</script>

</body>
</html>
